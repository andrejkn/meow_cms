<template name="posts_list">
	<div class="container">
		<h3>Posts:</h3>

		<table class="table table-striped">
			<thead>
			<tr>
				<th>#</th>
				<th>Subject</th>
				<th>Content</th>
				<th>Created</th>
				<th>Edited</th>
				<th><span class="pull-right">Visible</span></th>
				<th><span class="pull-right">Edit Post</span></th>
				<th><span class="pull-right">Remove</span></th>
			</tr>
			</thead>
			<tbody>
				{{#each posts}}
				<tr id="post_row_{{index}}">
					<td>{{index}}</td>
					<td>{{subject}}</td>
					<td>
						<div>
							<div id="post_content_tooltip_{{index}}" class="meow_tooltip meow_hidden">
								{{>post_content_tooltip}}
							</div>
							<div class="post_content_list">
								{{{concatenate content 100}}}
							</div>
						</div>

					</td>
					<td>{{formatDate createdAt}}</td>
					<td>{{formatDate editedAt}}</td>
					<td><input class="pull-right" type="checkbox" checked="{{#if visible}}checked{{/if}}"></td>
					<td>
						<button type="button" class="btn btn-default btn-sm pull-right edit_post">
							<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
						</button>
					</td>
					<td>
						<button type="button" class="btn btn-default btn-sm pull-right remove_post">
							<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
						</button>
					</td>
				</tr>
				{{/each}}
			</tbody>
		</table>

	</div>
</template>

<template name="post_content_tooltip">
	<div class="popover fade right in" role="tooltip" style="display: block; position: relative; width: 200px;">
		<h3 class="popover-title">
			<b>{{#if subject}} {{subject}} {{else}} No Subject {{/if}} </b>

			<div class="pull-right" style="margin-left: 5px;">
				<span class="glyphicon glyphicon-remove-circle post_content_tooltip_remove" aria-hidden="true"></span>
			</div>
		</h3>
		<div class="popover-content scroll" style="height: 100px;">{{{content}}}</div>
	</div>
</template>